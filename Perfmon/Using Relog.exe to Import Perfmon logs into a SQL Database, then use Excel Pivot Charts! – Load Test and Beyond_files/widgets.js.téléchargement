jQuery.parseNumber||function(n){function i(n,t,i){this.dec=n;this.group=t;this.neg=i}function t(n){var t=".",r=",";return n=="us"||n=="ae"||n=="eg"||n=="il"||n=="jp"||n=="sk"||n=="th"||n=="cn"||n=="hk"||n=="tw"||n=="au"||n=="ca"||n=="gb"||n=="in"?(t=".",r=","):n=="de"||n=="vn"||n=="es"||n=="dk"||n=="at"||n=="gr"||n=="br"?(t=",",r="."):n=="cz"||n=="fr"||n=="fi"||n=="ru"||n=="se"?(r=" ",t=","):n=="ch"&&(r="'",t="."),new i(t,r,"-")}n.formatNumber=function(i,r){var r=n.extend({},n.fn.parse.defaults,r),u=t(r.locale.toLowerCase()),f=u.dec,s=u.group,e=u.neg,o=new String(i);return o.replace(".",f).replace("-",e)};n.fn.parse=function(i){var i=n.extend({},n.fn.parse.defaults,i),r=t(i.locale.toLowerCase()),e=r.dec,u=r.group,o=r.neg,s="1234567890.-",f=[];return this.each(function(){var t=new String(n(this).text()),r,c,h,i;for(n(this).is(":input")&&(t=new String(n(this).val()));t.indexOf(u)>-1;)t=t.replace(u,"");for(t=t.replace(e,".").replace(o,"-"),r="",c=!1,t.charAt(t.length-1)=="%"&&(c=!0),h=0;h<t.length;h++)s.indexOf(t.charAt(h))>-1&&(r=r+t.charAt(h));i=new Number(r);c&&(i=i/100,i=i.toFixed(r.length-1));f.push(i)}),f};n.fn.format=function(i){var i=n.extend({},n.fn.format.defaults,i),r=t(i.locale.toLowerCase()),u=r.dec,f=r.group,e=r.neg,o="0#-,.";return this.each(function(){var v=new String(n(this).text()),c,d,a,s,r,tt,it,b,l,p,g,nt,k,t;for(n(this).is(":input")&&(v=new String(n(this).val())),c="",d=!1,t=0;t<i.format.length;t++)if(o.indexOf(i.format.charAt(t))==-1)c=c+i.format.charAt(t);else if(t==0&&i.format.charAt(t)=="-"){d=!0;continue}else break;for(a="",t=i.format.length-1;t>=0;t--)if(o.indexOf(i.format.charAt(t))==-1)a=i.format.charAt(t)+a;else break;for(i.format=i.format.substring(c.length),i.format=i.format.substring(0,i.format.length-a.length);v.indexOf(f)>-1;)v=v.replace(f,"");if(s=new Number(v.replace(u,".").replace(e,"-")),a=="%"&&(s=s*100),r="",tt=s%1,i.format.indexOf(".")>-1){var w=u,y=i.format.substring(i.format.lastIndexOf(".")+1),h=new String(tt.toFixed(y.length));for(h=h.substring(h.lastIndexOf(".")+1),t=0;t<y.length;t++)if(y.charAt(t)=="#"&&h.charAt(t)!="0"){w+=h.charAt(t);continue}else if(y.charAt(t)=="#"&&h.charAt(t)=="0")if(it=h.substring(t),it.match("[1-9]")){w+=h.charAt(t);continue}else break;else y.charAt(t)=="0"&&(w+=h.charAt(t));r+=w}else s=Math.round(s);if(b=Math.floor(s),s<0&&(b=Math.ceil(s)),l="",b==0)l="0";else for(p="",p=i.format.indexOf(".")==-1?i.format:i.format.substring(0,i.format.indexOf(".")),g=new String(Math.abs(b)),nt=9999,p.lastIndexOf(",")!=-1&&(nt=p.length-p.lastIndexOf(",")-1),k=0,t=g.length-1;t>-1;t--)l=g.charAt(t)+l,k++,k==nt&&t!=0&&(l=f+l,k=0);r=l+r;s<0&&d&&c.length>0?c=e+c:s<0&&(r=e+r);i.decimalSeparatorAlwaysShown||r.lastIndexOf(u)==r.length-1&&(r=r.substring(0,r.length-1));r=c+r+a;n(this).is(":input")?n(this).val(r):n(this).text(r)})};n.fn.parse.defaults={locale:"us",decimalSeparatorAlwaysShown:!1};n.fn.format.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1}}(jQuery),function(n,t,i){var s,b,k,d,g,a,y,nt,v,tt,it,rt,ut,p,ft,et,ot,h,l,st,e,c,r,u,w=Array.prototype.slice,f=function(n,t){return function(){return n.apply(t,arguments)}},ht=Object.prototype.hasOwnProperty,o=function(n,t){function r(){this.constructor=n}for(var i in t)ht.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};e=n.console;typeof e=="undefined"&&(c=function(){},e={log:c,warn:c,assert:c,clear:c,dir:c,error:c,info:c,profile:c,profileEnd:c});r={achievementsEarned:"Achievements Earned",avatar:"Avatar of ${DisplayName}",header:{},recentAchievements:"Recent Achievements",recognitionPoints:"Points",learnHow:"No Achievements Earned. <a>Learn How!<\/a>",learnHowLink:function(){var n;return n='<a href="http://${$item.settings.brand}.microsoft.com/ff395928.aspx#How_do_I_earn_achievements" class="profile-usercard-profileLink" target="_blank">',r.learnHow.replace("<a>",n)},leaderboardEmpty:"No leaderboard results available at this time.",viewProfile:"View Profile",boostProfile:"Boost your online profile",joined:"Joined ",notableAchievements:"Notable Achievements",recentActivity:"Recent Activity: ",topPercentile:"Top",uploadImage:"Upload an image",userPoint:"Point",userPoints:"Points",goToProfile:"Go to ${DisplayName}'s profile",showActivity:"Show Activity"};r.header["all time"]="all time";r.header.day="last day";r.header.days="last %d days";r.header.hour="last hour";r.header.hours="last %d hours";r.header.week="last week";r.header.weeks="last %d weeks";r.header["activities completed"]="activities completed";r.header["points earned"]="points earned";r.achievementsEarned="Achievements Earned";r.avatar="Avatar of ${DisplayName}";r.learnHow="No Achievements Earned. <a>Learn How!<\/a>";r.recentAchievements="Recent Achievements";r.recognitionPoints="Points";r.viewProfile="View Profile";r.leaderboardEmpty="No leaderboard results available at this time.";r.header["all time"]="all time";r.header.day="last day";r.header.days="last %d days";r.header.hour="last hour";r.header.hours="last %d hours";r.header.week="last week";r.header.weeks="last %d weeks";r.header["activities completed"]="activities completed";r.header["points earned"]="points earned";r.boostProfile="Boost your online profile";r.joined="Joined ";r.notableAchievements="Notable Achievements";r.recentActivity="Recent Activity: ";r.topPercentile="Top";r.uploadImage="Upload an image";r.userPoint="Point";r.userPoints="Points";r.goToProfile="Go to ${DisplayName}'s profile";r.showActivity="Show activity";u={animationSpeed:100,brand:"msdn",host:n.location.host,lang:"en",largeImageDimension:135,leaderboardDataUri:"/v1/leaderboard/",scanDelay:250,search:"",statGroupDataUri:"/v1/statGroup/",userDataUri:"/v1/user/usercard/",userDataBatchSize:50,widgetImageUri:"/v1/resources/widget.png",hideDelay:250,showDelay:750,version:"debug",protocol:n.location.protocol};u.brand="msdn";u.lang="en-US";u.host="widgets.services.microsoft.com:443";u.search="?brand=msdn&lang=en&ver=4.9.0.0";u.version="4.9.0.0";u.protocol="https:";s={LogMetric:function(){return!0},getBaseMetricObject:function(){return{currentUrl:t.URL,referrer:t.referrer}}};h={resolve:function(n){return u.protocol+"//"+u.host+n},resolveStatic:function(n){return this.resolve(n)+u.search},createDataUri:function(){var n,t;return n=arguments[0],t=2<=arguments.length?w.call(arguments,1):[],n=""+h.resolve(n)+(t!=null?t.sort().join(","):void 0),n+("?lang="+u.lang+"&brand="+u.brand)},createQSDataUri:function(){var n,t;return n=arguments[0],t=2<=arguments.length?w.call(arguments,1):[],n=""+h.resolve(n)+"?id="+(t!=null?t.sort().join(","):void 0),n+("&lang="+u.lang+"&brand="+u.brand)},createStatGroupDataUri:function(n,t,i){var r;return r=h.createDataUri(u.statGroupDataUri,n),r+("&filterLocale="+t+"&filterUserId="+i)},createUsercardDataUri:f(function(){var n;return n=1<=arguments.length?w.call(arguments,0):[],h.createQSDataUri(u.userDataUri,n)},this),createLeaderboardDataUri:f(function(){var n;return n=1<=arguments.length?w.call(arguments,0):[],h.createDataUri(u.leaderboardDataUri,n)},this),createWidgetImageUri:function(){return h.resolve(u.widgetImageUri+"?v="+u.version)}};v={scaleImage:function(n,t){var r,u,f;return r=i(n),u={x:r.width(),y:r.height()},f=this.getXDimension(u,t),r.css("width",f),r.css("display","inline-block")},getXDimension:function(n,t){var i,r;return n.x<=t&&n.y<=t?n.x:(r=n.x>=n.y?n.x:n.y,i=t/r,Math.floor(n.x*i))}};ot={ellipsify:function(n,t){return n.length<=t?n:(e.log("ellipsify"),n.substr(0,t-3).concat("..."))}};y=function(){function n(n,t,i,r,u){this.dataIdName=n;this.inline=t;this.selector=i;this.template=r;this.templateName=u;this.warn}return n.prototype.canonicalizeId=function(n){return n.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()},n.prototype.findIds=function(n){var f,t,r,e,u,s,o;for(t=[],o=i(this.selector,n),u=0,s=o.length;u<s;u++)e=o[u],f=i(e).attr(this.dataIdName),f?(r=this.canonicalizeId(f),i(e).attr(this.dataIdName,r),i.inArray(r,t)===-1&&t.push(r)):this.warn('Missing required attribute "'+this.dataIdName+'"');return t},n.prototype.onDataLoaded=function(){return this.abstractWarn()},n.prototype.showAll=function(){return this.abstractWarn()},n.prototype.showWidget=function(){return this.abstractWarn()},n.prototype.abstractWarn=function(){return this.warn("You must implement this abstract class method.")},n.prototype.warn=function(n){return e.warn("Profile [BaseWidgetRegistration]: "+n)},n}();l=function(){function n(n,t,r,u,f){this.dataIdName=n;this.inline=t;this.selector=r;this.template=u;this.templateName=f;this.foundIds=[];i.template(this.templateName,this.template)}return o(n,y),n.prototype.onDataLoaded=function(n){var t;return t=this,i(""+this.selector+"[data-profile-usercard-customLink]").each(function(){var r,u;return r=i(this).attr("data-profile-usercard-customLink"),u=i(this).attr("data-profile-userid"),t.setCustomLink(n,u,r)})},n.prototype.setCustomLink=function(n,t,r){if(n&&n[t])try{n[t].customLink=i.parseJSON(r)}catch(u){e.warn("Profile [UsercardRegistration]: Invalid JSON in data-profile-usercard-customLink")}else e.warn("Profile [UsercardRegistration]: Failed to set custom link; user does not exist in data")},n.prototype.showAll=function(n){return i(this.selector).each(f(function(t,i){return this.showWidget(i,n)},this))},n.prototype.showWidget=function(n,t){var r,s,u,f,o;if(r=i(n),r.length===0&&e.warn("Profile [UsercardRegistration]: Widget not found in DOM"),o=typeof r.attr("data-profile-rendered")!="undefined",!o)return f=r.attr(this.dataIdName),f?(u=t(this.dataIdName,f),u?(u.Content=r.attr("data-profile-user-point"),u.Rank=r.attr("data-profile-rank"),u.UserId=f,this.inline&&r.html(""),s=i(this.bindTemplate(u)).appendTo(r),r.attr("data-profile-rendered","true")):e.warn("Profile [UsercardRegistration]: Usercard does not exist in data.")):e.warn('Profile [UsercardRegistration]: Expected id in attribute "'+this.dataIdName+'".')},n.prototype.bindTemplate=function(n){var r,t,f;return t=parseFloat(n.PercentileRankings),f=t>=1?0:1,r={settings:u,ellipsify:ot.ellipsify,useDataUri:u.supportsDataUri,PercentileRankingsFormatted:t.toLocaleString(u.lang,{maximumFractionDigits:f})},i.tmpl(this.templateName,n,r)},n.prototype.warn=function(n){return e.warn("Profile [UsercardRegistration]: "+n)},n.prototype.usercardTemplate='<div class="profile-usercard">            <div class="profile-header">                <span class="profile-userimage">                    {{if $item.useDataUri }}                        <img src="data:image/jpg;base64,${AvatarData}" alt="'+r.avatar+'">                    {{else}}                        <img src="${Avatar}" alt="'+r.avatar+'">                    {{/if}}                <\/span>                <div>                    <p title="${DisplayName}" class="profile-display-name" aria-label="${$item.ellipsify(DisplayName, 32)}" tabIndex="0">${$item.ellipsify(DisplayName, 32)}<\/p>                {{if Company}}                    <p class="profile-company" aria-label="${$item.ellipsify(Company, 27)}" tabIndex="0">${$item.ellipsify(Company, 27)}<\/p>                {{/if}}                {{if Affiliations}}}                    <p class="profile-affiliations" aria-label="${Affiliations}" tabIndex="0">${Affiliations}<\/p>                {{/if}}                <\/div>            <\/div>            <div class="profile-points-bar">                <span class="profile-points" aria-label="${Points} points" tabIndex="0">${Points}<span class="points-label"> '+r.recognitionPoints+'<\/span><\/span>                <span class="profile-count profile-bronze-points"><span class="profile-bronze-img" title="'+r.achievementsEarned+'" aria-label="${Achievements.Bronze} bronze medal" tabIndex="0"><\/span><span>${Achievements.Bronze}<\/span><\/span>                <span class="profile-count profile-silver-points"><span class="profile-silver-img" title="'+r.achievementsEarned+'" aria-label="${Achievements.Silver} silver medal" tabIndex="0"><\/span><span>${Achievements.Silver}<\/span><\/span>                <span class="profile-count profile-gold-points"><span class="profile-gold-img" title="'+r.achievementsEarned+'" aria-label="${Achievements.Gold} gold medal" tabIndex="0"><\/span><span>${Achievements.Gold}<\/span><\/span>                        <\/div>            <div class="profile-achievements-header">                <span class="profile-achievements-title">'+r.recentAchievements+'<\/span>            <\/div>            <div class="profile-achievements-recent">                <div class="profile-achievements-centering">                    {{if Achievements.Recent && Achievements.Recent.length > 0}}                        {{each Achievements.Recent}}                    <span class="profile-achievement profile-achievement-${Medal}" aria-label="${Title}" tabIndex="0"><span>${Title}<\/span><\/span>                        {{/each}}                    {{else}}                        <div class="profile-achievement-none">'+r.learnHowLink()+'<\/div>                    {{/if}}                <\/div>            <\/div>            <div class="profile-footer">                {{if customLink}}                    <a href="${customLink.href}" title="${customLink.text}" class="profile-usercard-custom-link" target="_blank">${customLink.text}<\/a>                {{/if}}                <a href="${Profile}?ws=usercard-hover" class="profile-usercard-profileLink" target="_blank">'+r.viewProfile+"<\/a>            <\/div>        <\/div>",n}();nt=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!1,".profile-usercard-hover",this.usercardTemplate,"usercardTemplate");this.canHide=!1;i(this.selector).live("mouseenter focusin",f(function(n){return this.onMouseEnter(n)},this));i(this.selector).live("mouseleave focusout",f(function(n){return this.onMouseLeave(n)},this))}return o(n,l),n.prototype.onMouseEnter=function(n){var t,e,r;return r=n.currentTarget,t=i(r),t.data("canHide","no"),e=f(function(){if(t.data("canHide")!=="yes")return t.data("data-profile-rendered")||this.showWidget(r,this.getData),i(".profile-usercard",r).fadeIn(u.animationSpeed),this.canHide=!1,s.LogMetric("Widget.HoverUserCard")},this),setTimeout(e,u.showDelay)},n.prototype.onMouseLeave=function(n){var t;return i(n.currentTarget).data("canHide","yes"),this.canHide=!0,t=f(function(){if(i(n.currentTarget).data("canHide")==="yes")return i(".profile-usercard",n.currentTarget).fadeOut(u.animationSpeed)},this),setTimeout(t,u.hideDelay)},n}();a=function(){function n(n,t,r,u,f){this.dataIdName=n;this.inline=t;this.selector=r;this.template=u;this.templateName=f;this.foundIds=[];i.template(this.templateName,this.template);this.baseHeader;this.baseBody;this.compactHeader}return o(n,l),n.prototype.showWidget=function(t,r){return n.__super__.showWidget.call(this,t,r),i(t).find(".textfill")&&i(t).find("div.textsize").textfill(),i(t).find(".profile-userimage-large > img").bind("load",function(n){return v.scaleImage(n.currentTarget,u.largeImageDimension)}).each(function(){if(this.complete)return v.scaleImage(this,u.largeImageDimension)})},n.baseHeader='<div class="baseball-card-header">            <table style="border-collapse: collapse;">            <tr>                <td style="padding-left: 0px;">                    <div>                                        <a id="baseball-card-userimage" class="crop" href="${Profile}">                            <span class="imageHelper"><\/span>                            <img src="${LargeAvatar}" alt=" '+r.avatar+' " title=" '+r.goToProfile+' "/>                        <\/a>                    <\/div>                <\/td>                <td>                    <div class="baseball-card-summary">                        <div class="baseball-card-point-count">                            <div class="textsize" style="width:96px; height:36px; text-align:center">                                <span>${Points}<\/span>                            <\/div>                        <\/div>                        {{if Points == 1}}                            <div class="baseball-card-points-label">'+r.userPoint+'<\/div>                        {{else}}                            <div class="baseball-card-points-label">'+r.userPoints+'<\/div>                        {{/if}}                        {{if PercentileRankings <= 50.0}}                            <div class="baseball-card-percentile" style.display="none">'+r.topPercentile+" ${$item.PercentileRankingsFormatted}<\/div>                        {{/if}}                    <\/div>                <\/td>            <\/tr>            <\/table>        <\/div>",n.compactHeader='<div class="baseball-card-compact-header">            <table style="border-collapse: collapse;">            <tr>                <td style="padding-left: 0px;">                    <div>                                        <a id="baseball-card-userimage" class="crop baseball-card-compact-userimage" href="${Profile}">                            <span class="imageHelper"><\/span>                            <img src="${LargeAvatar}" alt="'+r.avatar+' " title="'+r.goToProfile+' "/>                        <\/a>                    <\/div>                <\/td>                <td>                    <div class="baseball-card-summary">                        <table style="border-collapse: collapse;">                        <tr>                            <td>                                <div class="baseball-card-point-count">                                    <div class="textsize" style="max-width:100px;height:41px; padding-right:5px; padding-left:5px;">                                        <span>${Points}<\/span>                                    <\/div>                                <\/div>                            <\/td>                            <td style="width:100%; margin:3px; padding-top:5px">                                {{if Points == 1}}                                    <div class="baseball-card-points-label">'+r.userPoint+'<\/div>                                {{else}}                                    <div class="baseball-card-points-label">'+r.userPoints+'<\/div>                                {{/if}}                                {{if PercentileRankings <= 50.0}}                                    <div class="baseball-card-percentile" style.display="none">'+r.topPercentile+" ${$item.PercentileRankingsFormatted}<\/div>                                {{/if}}                            <\/td>                        <\/tr>                        <\/table>                    <\/div>                <\/td>            <\/tr>            <\/table>        <\/div>",n.baseBody='<table class="table" style="width:100%; table-layout: fixed; border-collapse: collapse;">        <tr>            <td colspan="2" style="padding-bottom: 0px; padding-left: 0px;">                <a href="${Profile}" id="displayName" title="'+r.goToProfile+'" class="baseball-card-display-name" target="_blank">${DisplayName}<\/a>            <\/td>        <\/tr>        <tr>            <td style="padding-top: 0px;">                <span class="baseball-card-affiliate-company" title="${Affiliations}">${Affiliations}<\/span>            <\/td>            <td>                <span class="baseball-card-joined" class="ahenih">'+r.joined+' ${JoinedDate}<\/span>            <\/td>        <\/tr>        <tr>            <td colspan="2" style="padding-bottom: 10px;">                <!--<span class="baseball-card-recent-activity">'+r.recentActivity+' <span class="timeago" title="${RecentActivityDate}">${RecentActivityDate}<\/span><\/span>-->            <\/td>        <\/tr>        <tr>            <td>                <div class="baseball-card-medals">                    {{if Achievements.Gold > 0}}                        {{if Achievements.Gold == 1}}                            <span class="baseball-card-gold-img" aria-label="${Achievements.Gold} gold medal" tabIndex="0">                        {{else}}                            <span class="baseball-card-gold-img" aria-label="${Achievements.Gold} gold medals" tabIndex="0">                        {{/if}}                            <p>${Achievements.Gold}<\/p>                        <\/span>                    {{/if}}                    {{if Achievements.Silver > 0}}                        {{if Achievements.Silver == 1}}                        <span class="baseball-card-silver-img" aria-label="${Achievements.Silver} silver medal" tabIndex="0">                        {{else}}                        <span class="baseball-card-silver-img" aria-label="${Achievements.Silver} silver medals" tabIndex="0">                        {{/if}}                            <p>${Achievements.Silver}<\/p>                        <\/span>\t\t\t\t\t                    {{/if}}                    {{if Achievements.Bronze > 0}}                        {{if Achievements.Bronze == 1}}                        <span class="baseball-card-bronze-img" aria-label="${Achievements.Bronze} bronze medal" tabIndex="0">                        {{else}}                        <span class="baseball-card-bronze-img" aria-label="${Achievements.Bronze} bronze medals" tabIndex="0">                        {{/if}}                            <p>${Achievements.Bronze}<\/p>                        <\/span>\t\t\t\t\t                    {{/if}}                <\/div>            <\/td>            <td>                <div style="float:right;">                    <div style="padding-bottom: 9px;">                    {{if customLink}}                        <a href="${customLink.href}" target="_blank" title="${customLink.text}" class="baseball-card-custom-link">${customLink.text}<\/a>                    {{/if}}                    <\/div>                    <div>                        <a href="${Profile}activity" target="_blank" class="baseball-card-user-activity"> '+r.showActivity+"<\/a>                    <\/div>                <\/div>            <\/td>        <\/tr>        <\/table>",n}();b=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!0,".unified-baseball-card",this.bbCardBaseCardTemplate,"bbCardBaseCardTemplate")}return o(n,a),n.prototype.showWidget=function(t,i){return n.__super__.showWidget.call(this,t,i),s.LogMetric("Widget.BBUnifiedUserCard")},n.prototype.bbCardBaseCardTemplate=""+n.baseHeader+"        "+n.baseBody,n}();k=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!0,".unified-baseball-card-compact",this.bbCardBaseCardCompactTemplate,"bbCardBaseCardCompactTemplate")}return o(n,a),n.prototype.showWidget=function(t,i){return n.__super__.showWidget.call(this,t,i),s.LogMetric("Widget.BBCompactUserCard")},n.prototype.bbCardBaseCardCompactTemplate=""+n.compactHeader+"        "+n.baseBody,n}();d=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!1,".unified-baseball-card-compact-hover",this.bbCardBaseCardCompactHoverTemplate,"bbCardBaseCardCompactHoverTemplate");this.canHide=!1;i(this.selector).live("mouseenter",f(function(n){return this.onMouseEnter(n)},this));i(this.selector).live("mouseleave",f(function(n){return this.onMouseLeave(n)},this))}return o(n,a),n.prototype.onMouseEnter=function(n){var t,e,r;return r=n.currentTarget,t=i(r),t.data("canHide","no"),e=f(function(){if(t.data("canHide")!=="yes")return t.data("data-profile-rendered")||this.showWidget(r,this.getData),i(".unified-baseball-card-compact-whole",r).fadeIn(u.animationSpeed),i("div.textsize").textfill(),this.canHide=!1,s.LogMetric("Widget.BBHoverUserCard")},this),setTimeout(e,u.showDelay)},n.prototype.onMouseLeave=function(n){var t;return i(n.currentTarget).data("canHide","yes"),this.canHide=!0,t=f(function(){if(i(n.currentTarget).data("canHide")==="yes")return i(".unified-baseball-card-compact-whole",n.currentTarget).fadeOut(u.animationSpeed)},this),setTimeout(t,u.hideDelay)},n.prototype.showWidget=function(t,i){return n.__super__.showWidget.call(this,t,i)},n.prototype.bbCardBaseCardCompactHoverTemplate='<div class="unified-baseball-card-compact-whole">'+n.compactHeader+"        "+n.baseBody+"<\/div>",n}();g=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!1,".unified-baseball-card-mini",this.bbCardMiniTemplate,"bbCardMiniTemplate")}return o(n,a),n.prototype.showWidget=function(t,r){var u,f;if(!i(".profile-mini",t).length)return u=i(t),f=u.html(),u.html(""),n.__super__.showWidget.call(this,t,r),u.find(".profile-mini-content").html(f)},n.prototype.bbCardMiniTemplate='<div class="profile-mini">            <div class="profile-mini-header">            <div class="profile-mini-userimage">            {{if $item.useDataUri }}                <img src="data:image/jpg;base64,${AvatarData}" alt="'+r.avatar+'">            {{else}}                <img src="${Avatar}" alt="'+r.avatar+'">            {{/if}}            <\/div>            <div class="profile-mini-container">                <div class="profile-mini-display-name"><div class="unified-baseball-card-compact-hover" data-profile-userid="${UserId}"><a href="${Profile}?ws=usercard-mini" class="profile-mini-display-name-link" target="_blank">${DisplayName}<\/a><\/div><\/div>            {{if Company}}                <div class="profile-mini-company">${$item.ellipsify(Company, 27)}<\/div>            {{/if}}                <div class="profile-mini-affiliations">                {{if Affiliations}}                    (${Affiliations})                {{/if}}                <\/div>                <span class="profile-mini-points">${Points}<span class="points-label"> '+r.recognitionPoints+'<\/span><\/span>                <\/div>                <div class="profile-mini-content">                <\/div>            <\/div>        <\/div>',n}();tt=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!0,".profile-usercard-inline",this.inlineTemplate,"inlineTemplate")}return o(n,l),n.prototype.showWidget=function(t,r){return n.__super__.showWidget.call(this,t,r),i(t).find(".profile-userimage-large > img").bind("load",function(n){return v.scaleImage(n.currentTarget,u.largeImageDimension)}).each(function(){if(this.complete)return v.scaleImage(this,u.largeImageDimension)}),s.LogMetric("Widget.InlineUserCard")},n.prototype.inlineTemplate='<div class="profile-usercard profile-inline">            <div class="profile-inline-header">                <span class="profile-userimage-large">                    <img src="${LargeAvatar}" alt="'+r.avatar+'" />                <\/span>                <div class="profile-inline-header-details">                    <div title="${DisplayName}" class="profile-inline-display-name">${$item.ellipsify(DisplayName, 32)}<\/div>            {{if Company}}                    <div class="profile-company profile-inline-secondary">${$item.ellipsify(Company, 27)}<\/div>            {{/if}}            {{if Affiliations}}                    <div class="profile-affiliations profile-inline-secondary">${Affiliations}<\/div>            {{/if}}            {{if Website}}                    <div class="profile-inline-url profile-inline-secondary">                        <a title="${Website}" href="${Website}" target="_blank">${$item.ellipsify(Website.replace("http://", "").replace("https://", ""), 22)}<\/a><\/div>            {{/if}}                <\/div>            <\/div>            <div class="profile-statline">                <span class="profile-points">${Points}<span class="points-label"> '+r.recognitionPoints+'<\/span><\/span>                <span class="profile-count profile-bronze-points"><span class="profile-bronze-img" title="'+r.achievementsEarned+'"><\/span><span>${Achievements.Bronze}<\/span><\/span>                <span class="profile-count profile-silver-points"><span class="profile-silver-img" title="'+r.achievementsEarned+'"><\/span><span>${Achievements.Silver}<\/span><\/span>                <span class="profile-count profile-gold-points"><span class="profile-gold-img" title="'+r.achievementsEarned+'"><\/span><span>${Achievements.Gold}<\/span><\/span>            <\/div>                        <div class="profile-biography">{{if Biography}}${Biography}{{/if}}<\/div>                        <div class="profile-footer">                {{if customLink}}                <a href="${customLink.href}" title="${customLink.text}" target="_blank" class="profile-usercard-custom-link">${customLink.text}<\/a>                {{/if}}                <a href="${Profile}?ws=usercard-inline" class="profile-usercard-profileLink" target="_blank">'+r.viewProfile+"<\/a>            <\/div>        <\/div>",n}();rt=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!1,".profile-leaderboard-item",this.leaderboardTemplate,"leaderboardTemplate")}return o(n,l),n.prototype.showWidget=function(t,r){var f;return n.__super__.showWidget.call(this,t,r),f=i(t),f.find("div").length>0&&f.show(),f.find(".profile-leaderboard-value").format({format:"+#,###",locale:u.lang}),f.show()},n.prototype.leaderboardTemplate='<div class="profile-leaderboard-container">            <div class="profile-leaderboard-rank">${Rank}<\/div>            <div class="profile-leaderboard-userimage">            {{if $item.useDataUri }}                <img src="data:image/jpg;base64,${AvatarData}" alt="'+r.avatar+'">            {{else}}                <img src="${Avatar}" alt="'+r.avatar+'">            {{/if}}            <\/div>            <div class="profile-leaderboard-name profile-usercard-hover" tabIndex="0" data-profile-userid="${UserId}">                <a href="${Profile}?ws=leaderboard" target="_blank" data-profile-userid="${UserId}">${DisplayName}<\/a>            <\/div>            <div class="profile-ie7-envelope"><div class="profile-leaderboard-value">+${Content}<\/div><\/div>        <\/div>',n}();ut=function(){function n(){n.__super__.constructor.call(this,"data-profile-userid",!1,".profile-usercard-mini",this.miniTemplate,"miniTemplate")}return o(n,l),n.prototype.showWidget=function(t,r){var u,f;if(!i(".profile-mini",t).length)return u=i(t),f=u.html(),u.html(""),n.__super__.showWidget.call(this,t,r),u.find(".profile-mini-content").html(f)},n.prototype.miniTemplate='<div class="profile-mini">            <div class="profile-mini-header">            <div class="profile-mini-userimage">            {{if $item.useDataUri }}                <img src="data:image/jpg;base64,${AvatarData}" alt="'+r.avatar+'">            {{else}}                <img src="${Avatar}" alt="'+r.avatar+'">            {{/if}}            <\/div>            <div class="profile-mini-container">                <div title="${DisplayName}" class="profile-mini-display-name"><div class="profile-usercard-hover" data-profile-userid="${UserId}"><a href="${Profile}?ws=usercard-mini" target="_blank">${DisplayName}<\/a><\/div><\/div>            {{if Company}}                <div class="profile-mini-company">${$item.ellipsify(Company, 27)}<\/div>            {{/if}}                <div class="profile-mini-affiliations">                {{if Affiliations}}                    (${Affiliations})                {{/if}}                <\/div>                <span class="profile-mini-points">${Points}<span class="points-label"> '+r.recognitionPoints+'<\/span><\/span>                <\/div>                <div class="profile-mini-content">                <\/div>            <\/div>        <\/div>',n}();it=function(){function n(){this.dataIdName="data-profile-leaderboard-key";this.selector=".profile-leaderboard";this.foundIds=[];this.headerName="leaderboardHeaderTemplate";this.itemName="leaderboardItemTemplate";this.emptyName="leaderboardEmptyTemplate";i.template(this.headerName,this.leaderboardHeaderTemplate);i.template(this.itemName,this.leaderboardItemTemplate);i.template(this.emptyName,this.leaderboardEmptyTemplate)}return o(n,y),n.prototype.showAll=function(n){return i(this.selector).each(f(function(t,i){return this.showWidget(i,n)},this))},n.prototype.showWidget=function(n,t){var f,s,o,h,v,c,u,l,a,e,y;if(f=i(n),f.attr("data-profile-leaderboard-loaded")){f.profileWidgitize();return}if(f.attr("data-profile-leaderboard-loaded",!0),c=f.attr("data-profile-leaderboard-key"),c){if(o=t(this.dataIdName,c),o!=null&&(u=eval(o.Items),(u!=null?u.length:void 0)>0)){for(v=this.localizeHeader(o.Header),i.tmpl(this.headerName,v).appendTo(n),a=1,l=u[0].RankingColumn,e=0,y=u.length;e<y;e++)h=u[e],s=h.RankingColumn,s!==l&&(a=e+1),l=s,h.Rank=a;i.tmpl(this.itemName,u).appendTo(n);f.profileWidgitize();return}return i.tmpl(this.emptyName,r.leaderboardEmpty).appendTo(n)}return this.warn('Expected key in attribute "'+this.dataIdName+'"')},n.prototype.localizeHeader=function(n){var t,i,u,f,e;try{t=n.match(/points earned|activities completed/)[0];u=n.match(/weeks|week|days|day|hours|hour|all time/)[0];i=(e=n.match(/\d+/))!=null?e[0]:void 0;f=r.header[t]+" - "+r.header[u].replace(/%d/,i)}catch(o){leaderboard.warn("failed to load leaderboard header")}return f},n.prototype.onDataLoaded=function(){},n.prototype.leaderboardEmptyTemplate='<div class="profile-leaderboard-empty">${}<\/div>',n.prototype.leaderboardHeaderTemplate='<div class="profile-leaderboard-header">${}<\/div>',n.prototype.leaderboardItemTemplate='<div class="profile-leaderboard-item" data-profile-userid="${UserId}" data-profile-rank="${Rank}" data-profile-user-point="${RankingColumn}" style="display: none;"><\/div>',n.prototype.warn=function(n){return e.warn("Profile [Leaderboard]: "+n)},n}();et=function(){function n(){this.dataIdName="data-profile-statGroupId";this.selector=".profile-statGroup";this.foundIds=[];this.statGroupTemplateName="statGroupTemplate";i.template(this.statGroupTemplateName,this.statGroupTemplate)}return o(n,y),n.prototype.canonicalizeId=function(n){return n.replace(/[^a-zA-Z0-9_\-;]/g,"")},n.prototype.findIds=function(n){var r,u,f,t,e,l,o,s,c,h;for(u=[],h=i(this.selector,n),s=0,c=h.length;s<c;s++)t=h[s],e=l=void 0,e=i(t).attr("data-profile-statGroup-key"),r=i(t).attr("data-profile-filterLocale"),r!=null||(r=""),o=i(t).attr("data-profile-userId"),o!=null||(o=""),e!=null?(f=this.canonicalizeId(e+";"+r+";"+o),i(t).attr(this.dataIdName,f),i.inArray(f,u)===-1&&u.push(f)):this.warn('Missing required attribute(s) "data-profile-statGroup-key"');return u},n.prototype.showAll=function(n){return i(this.selector).each(f(function(t,i){return this.showWidget(i,n)},this))},n.prototype.showWidget=function(n,t){var r,f,o,s;if(r=i(n),r.length===0&&e.warn("Profile [StatGroupWidgetRegistration]: Widget not found in DOM"),s=typeof r.attr("data-profile-rendered")!="undefined",!s)return o=r.attr(this.dataIdName),o!=null?(f=t(this.dataIdName,o),f?(i.tmpl(this.statGroupTemplate,f).appendTo(r),r.attr("data-profile-rendered","true"),r.find(".value").format({format:"#,###",locale:u.lang})):e.warn("Profile [StatGroupWidgetRegistration]: Item does not exist in data.")):e.warn('Profile [StatGroupWidgetRegistration]: Expected id in attribute "'+this.dataIdName+'".')},n.prototype.onDataLoaded=function(){},n.prototype.statGroupTemplate='<div class="statistic-group">            <div class="statistic-header">${Header}<\/div>            <table class="statistic-table">                <tbody>                    {{each Statistics}}                    <tr>                        <td class="name">${$value.Name}<\/td>                        <td class="value"><span>${$value.Value}<\/span><\/td>                    <\/tr>                    {{/each}}                <\/tbody>            <\/table>        <\/div>',n}();p=function(){function n(n,r,u,e){var h,o,c,s;for(this.registeredWidgets=n,this.createDataUri=r,this.jsonpCallbackName=u,this.batch=e!=null?e:!1,this.getData=f(this.getData,this),this.loadDataError=f(this.loadDataError,this),this.loadDataSuccess=f(this.loadDataSuccess,this),this.scannedIds=[],i(t).ajaxComplete(f(function(){return this.scanWhenAble()},this)),s=this.registeredWidgets,o=0,c=s.length;o<c;o++)h=s[o],h.getData=f(function(n,t){return this.getData(n,t)},this)}return n.prototype.scan=function(n){var t,r,u,c,s,f,e,o,l,a,v,h;for(t=[],h=this.registeredWidgets,f=0,l=h.length;f<l;f++)for(c=h[f],s=c.findIds(n),e=0,a=s.length;e<a;e++)r=s[e],i.inArray(r,t)===-1&&t.push(r);if(u=[],this.scannedIds)for(o=0,v=t.length;o<v;o++)r=t[o],i.inArray(r,this.scannedIds)===-1&&(u.push(r),this.scannedIds.push(r));else u=t,this.scannedIds=t;return u.length?this.loadData(u):this.showItems()},n.prototype.scanWhenAble=function(){var n;return this.pending||(n=f(function(){return this.scan(),this.pending=!1},this),setTimeout(n,u.scanDelay)),this.pending=!0},n.prototype.showItems=function(){var r,n,u,t,i;for(t=this.registeredWidgets,i=[],n=0,u=t.length;n<u;n++)r=t[n],i.push(r.showAll(this.getData));return i},n.prototype.loadData=function(n){var t;return this.batch?(t=u.userDataBatchSize,this.currentBatch=this.currentBatch>=0?this.currentBatch+1:0,n.length<=t?this.loadDataAjax(n,this.currentBatch):(this.batch=n.slice(0,t),this.loadDataAjax(this.batch,this.currentBatch),n=n.slice(t,n.length),this.loadData(n))):this.loadDataAjax(n)},n.prototype.loadDataAjax=function(n,t){return i.ajax({url:this.createDataUri(n),dataType:"jsonp",cache:!0,jsonpCallback:this.jsonpCallbackName+(t!=null?t:""),success:this.loadDataSuccess,error:this.loadDataError})},n.prototype.loadDataSuccess=function(n){var u,t,f,r;for(this.data=i.extend(!0,this.data,n),r=this.registeredWidgets,t=0,f=r.length;t<f;t++){u=r[t];u.onDataLoaded(this.data)}return this.showItems()},n.prototype.loadDataError=function(n){return this.warn("Ajax request error: #status, "+n.status+": "+n.statusText)},n.prototype.getData=function(n,t){var i,r;return this.data||this.warn("Unable to load data"),i=(r=this.data)!=null?r[t]:void 0,i&&(i[n]=t),i},n.prototype.warn=function(n){return e.warn("Profile [Scanner]: "+n)},n}();ft=function(){function n(){n.__super__.constructor.apply(this,arguments)}return o(n,p),n.prototype.loadData=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;t<u;t++)r=n[t],i.push(this.loadDataAjax(r));return i},n.prototype.loadDataAjax=function(n){var t;return t=n.split(";"),i.ajax({url:this.createDataUri(t[0],t[1],t[2]),dataType:"jsonp",cache:!0,jsonpCallback:this.jsonpCallbackName,success:this.loadDataSuccess,error:this.loadDataError})},n}();st=function(){function n(){var n,t,r,u,f;this.detectFeatures();r=[new tt,new rt,new ut,new nt,new g,new b,new k,new d];this.usercardScanner=new p(r,h.createUsercardDataUri,"jsonp_loadUserData",!0);t=[new it];this.leaderboardScanner=new p(t,h.createLeaderboardDataUri,"jsonp_loadLeaderboardData",!1);u=[new et];this.statGroupScanner=new ft(u,h.createStatGroupDataUri,"jsonp_loadStatGroupData",!1);f=this.usercardScanner;i.fn.profileWidgitize=function(){return f.scanWhenAble(this),this};this.usercardScanner.scan();this.leaderboardScanner.scan();this.statGroupScanner.scan();n=new Image;n.src=h.createWidgetImageUri();this.aiSetup()}return n.prototype.detectFeatures=function(){var n;return n=new Image,n.onload=n.onabort=n.onerror=function(){return u.supportsDataUri=this.width===1&&this.height===1},n.src="data:image/gif;base64,R0lGODlhAQABAIABAP8AAP///yH5BAEAAAEALAAAAAABAAEAAAICRAEAOw%3D%3D"},n.prototype.aiSetup=function(){return i("#baseball-card-userimage, .baseball-card-compact-userimage").live("click",f(function(){return s.LogMetric("Widget.DisplayImage.Click")},this)),i(".baseball-card-display-name").live("click",f(function(){return s.LogMetric("Widget.DisplayName.Click")},this)),i(".profile-mini-display-name-link").live("click",f(function(){return s.LogMetric("Widget.Mini.DisplayName.Click")},this)),i(".baseball-card-custom-link").live("click",f(function(){return s.LogMetric("Widget.CustomLink.Click")},this)),i(".baseball-card-user-activity").live("click",f(function(){return s.LogMetric("Widget.UserActivity.Click")},this))},n}();i(t).ready(function(){return new st})}(this,document,jQuery);
//@preserve  textfill
//@license   MIT License
(function(n){n.fn.textfill=function(t){function r(){i.debug&&typeof console!="undefined"&&typeof console.debug!="undefined"&&console.debug.apply(console,arguments)}function e(){typeof console!="undefined"&&typeof console.warn!="undefined"&&console.warn.apply(console,arguments)}function u(n,t,i,u,f,e){function o(n,t){var i=" / ";return n>t?i=" > ":n==t&&(i=" = "),i}r(n+"font: "+t.css("font-size")+", H: "+t.height()+o(t.height(),i)+i+", W: "+t.width()+o(t.width(),u)+u+", minFontPixels: "+f+", maxFontPixels: "+e)}function f(n,t,i,r,f,e,o,s){for(u(n+": ",t,f,e,o,s);o<s-1;){var h=Math.floor((o+s)/2);if(t.css("font-size",h),i.call(t)<=r){if(o=h,i.call(t)==r)break}else s=h;u(n+": ",t,f,e,o,s)}return t.css("font-size",s),i.call(t)<=r&&(o=s,u(n+"* ",t,f,e,o,s)),o}var i=n.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null},t);return this.each(function(){var t=n(i.innerTag+":visible:first",this),u=i.explicitHeight||n(this).height(),o=i.explicitWidth||n(this).width(),a=t.css("font-size"),s;r("Opts: ",i);r("Vars: maxHeight: "+u+", maxWidth: "+o);var h=i.minFontPixels,c=i.maxFontPixels<=0?u:i.maxFontPixels,l=undefined;i.widthOnly||(l=f("H",t,n.fn.height,u,u,o,h,c));s=f("W",t,n.fn.width,o,u,o,h,c);i.widthOnly?t.css({"font-size":s,"white-space":"nowrap"}):t.css("font-size",Math.min(l,s));r("Final: "+t.css("font-size"));t.width()>o||t.height()>u&&!i.widthOnly?(t.css("font-size",a),i.fail&&i.fail(this)):i.success?i.success(this):i.callback&&(e("callback is deprecated, use success, instead"),i.callback(this))}),i.complete&&i.complete(this),this}})(window.jQuery)